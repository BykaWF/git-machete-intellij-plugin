plugins {
  id 'org.gradle.scala'
}

// TODO (#274): use artifacts published on Bintray/JCenter instead
repositories {
  mavenLocal()
}

ideProbeJunitDriver()
junit()
scala()

dependencies {
  testImplementation project(':testCommon').sourceSets.test.output
}

test {
  // Exclude UI tests when running `./gradlew test`, unless a `-PrunUiTests` Gradle flag is provided.
  def runUiTests = project.hasProperty('runUiTests')

  onlyIf {
    runUiTests
  }
  if (runUiTests) {
    dependsOn ':buildPlugin'
  }
}
