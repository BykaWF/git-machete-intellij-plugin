plugins {
  id 'org.gradle.scala'
}

junit()
scala()

dependencies {
  testImplementation project(':testCommon').sourceSets.test.output
}

test {
  // Exclude UI tests when running `./gradlew test`, unless a `-PrunUiTests` Gradle flag is provided.
  def runUiTests = project.hasProperty('runUiTests')

  onlyIf {
    runUiTests
  }
  if (runUiTests) {
    dependsOn ':buildPlugin'
  }
}

dependencies {
  testImplementation fileTree(dir: 'lib', include: '*.jar')
}
