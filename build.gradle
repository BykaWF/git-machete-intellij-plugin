plugins {
    id "com.diffplug.gradle.spotless" version "3.26.1"
}

allprojects {
    repositories {
        jcenter()
        mavenCentral()
    }

    apply plugin: 'java'

    sourceCompatibility = 11

    ext {
        junitVersion = '4.13'
        lombokVersion = '1.18.10'
        guiceVersion = '4.2.2'
        slf4jVersion = '1.7.25'
        jgitVersion = '5.5.1.201910021850-r'
        javafxVersion = '11'
    }

    dependencies {
        testCompile group: 'junit', name: 'junit', version: junitVersion
    }
}

subprojects {
    version = '1.0'

    apply plugin: 'java'

    apply plugin: 'com.diffplug.gradle.spotless'

    spotless {
        java {
            googleJavaFormat()
        }
    }
}


afterEvaluate {
    tasks.getByName('spotlessCheck').dependsOn(tasks.getByName('spotlessApply'))
}
